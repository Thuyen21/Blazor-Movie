<h3>EditMovieStudio</h3>
@using System.IO
@using Firebase.Storage
@attribute [Authorize(Roles ="Studio")]
@page "/EditMovieStudio/{Id}"

@if (movie == null)
{
    <p>
        <em>Loading...</em>
    </p>
}
else
{
    <EditForm Model="@movie" OnValidSubmit="@HandleValidSubmit">
    <DataAnnotationsValidator/>
    <ValidationSummary/>
    MovieId
    <InputText  @bind-Value="@movie.MovieId"/><br>
    StudioId
    <InputText  @bind-Value="@movie.StudioId"/><br>
    MovieGenre
    <InputText  @bind-Value="@movie.MovieGenre"/><br>
    MovieName
    <InputText  @bind-Value="@movie.MovieName"/><br>
    PremiereDate
    <InputDate  @bind-Value="@movie.PremiereDate"/><br>

    <button type="submit">Submit</button>
</EditForm>

<div>@content</div>

<div>After pick a file it auto Upload. If it is not a movie or image correct MIME it will not be uploaded.</div>
<div>Movie Up</div>
<InputFile OnChange="OnChooseMovieFile" />

<div>Image Up</div>
<InputFile OnChange="OnChooseImageFile" />


<div>If your upload more 500MB click this button</div>
<button type="submit" @onclick="@Upload">Upload</button>
 <div class="row">
    <div class="col-md-4">
        <form action="@linkUp" enctype="multipart/form-data" method="post">
            <div asp-validation-summary="ModelOnly" class="text-danger">If it is not a movie or image correct MIME it will not be uploaded.</div>
           
            <div class="form-group">
                <label asp-for="ImageFile" class="control-label">Image</label>
                <input id="ImageFileUp" name="ImageFileUp" class="form-control" type="file"/>
                <span asp-validation-for="ImageFile" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="MovieFile" class="control-label">Movie</label>
                <input id="MovieFileUp" name="MovieFileUp" class="form-control" type="file"/>
                <span asp-validation-for="MovieFile" class="text-danger"></span>
            </div>
            
            <div class="form-group">
                <input type="submit" value="Save" class="btn btn-primary"/>
            </div>
        </form>
        <span id="spnMessage"></span>
    </div>
</div>   
}


